<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Freecade Games</title>
    <link href="css/global.scss" rel="stylesheet">
    <link href="css/games.scss" rel="stylesheet">
    <link href="assets/freecade.png" rel="shortcut icon" type="image/png">
</head>
<body>
<include src="./components/navbar.html"></include>
<main class="main">
    <a aspect-ratio="16/9" class="game" game="test">
        <div>
            <img alt="" draggable="false" src="assets/freecade.svg">
            <section>
                <h2>Test</h2>
                <h3>This is a test game</h3>
            </section>
        </div>
    </a>
    <a class="game" game="test">
        <div>
            <img alt="" draggable="false" src="assets/freecade.svg">
            <section>
                <h2>GameName</h2>
                <h3>GameDescription Short</h3>
            </section>
        </div>
    </a>
    <a class="game" game="test">
        <div>
            <img alt="" draggable="false" src="assets/freecade.svg">
            <section>
                <h2>GameName</h2>
                <h3>GameDescription Short</h3>
            </section>
        </div>
    </a>
    <a class="game" game="test">
        <div>
            <img alt="" draggable="false" src="assets/freecade.svg">
            <section>
                <h2>GameName</h2>
                <h3>GameDescription Short</h3>
            </section>
        </div>
    </a>
    <a class="game" game="test">
        <div>
            <img alt="" draggable="false" src="assets/freecade.svg">
            <section>
                <h2>GameName</h2>
                <h3>GameDescription Short</h3>
            </section>
        </div>
    </a>
    <a class="game" game="test">
        <div>
            <img alt="" draggable="false" src="assets/freecade.svg">
            <section>
                <h2>GameName</h2>
                <h3>GameDescription Short</h3>
            </section>
        </div>
    </a>
</main>
<script>
    document.querySelectorAll(".main > a").forEach(element => {
        element.onclick = () => {
            sessionStorage.setItem("current_game", JSON.stringify({
                aspectRatio: element.getAttribute("aspect-ratio") ?? "1/1",
                title: element.children[0].children[1].children[0].textContent,
                description: element.children[0].children[1].children[1].textContent
            }))
            window.location.href = "./play.html?g=" + element.getAttribute("game")
        }
    })
</script>
</body>
</html>